<!doctype html>
<html lang="el">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Laloo Love Rain</title>

<style>
html,body{
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  background:transparent;
  overflow:hidden;
}

#laloo-rain{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:9999;
}

/* κοινό element */
.laloo-item{
  position:absolute;
  top:-140px;
  opacity:0.9;
  animation: laloo-fall linear forwards;
}

/* μπουκαλάκι – πιο luxury */
.laloo-item.bottle{
  opacity:1;
  filter: drop-shadow(0 12px 22px rgba(0,0,0,0.18));
}

/* animation */
@keyframes laloo-fall{
  0%{
    transform: translateY(0) rotate(0deg);
    opacity:0;
  }
  10%{ opacity:1; }
  100%{
    transform: translateY(110vh) rotate(360deg);
    opacity:0;
  }
}

/* accessibility */
@media (prefers-reduced-motion: reduce){
  #laloo-rain{ display:none; }
}
</style>
</head>

<body>

<div id="laloo-rain"></div>

<script>
(function(){

  /* ASSETS – FULL URLs */
  const ASSETS = [
    {
      src: 'https://assets.laloo.gr/img/cms/heart_1.png',
      type: 'heart',
      size: [30, 48],
      duration: [6.5, 10.5],
      chance: 0.60
    },
    {
      src: 'https://assets.laloo.gr/img/cms/rose%20petal_1.png',
      type: 'petal',
      size: [36, 58],
      duration: [7.5, 11.5],
      chance: 0.28
    },
    {
      src: 'https://assets.laloo.gr/img/cms/bottle.png',
      type: 'bottle',
      size: [54, 80],
      duration: [9.5, 14],
      chance: 0.12
    }
  ];

  const container = document.getElementById('laloo-rain');
  const isMobile = window.matchMedia('(max-width:768px)').matches;

  const MAX_ITEMS = isMobile ? 18 : 28;
  const SPAWN_EVERY = isMobile ? 550 : 420;

  function pickAsset(){
    const r = Math.random();
    let acc = 0;
    for(const a of ASSETS){
      acc += a.chance;
      if(r <= acc) return a;
    }
    return ASSETS[0];
  }

  function spawn(){
    if(container.children.length >= MAX_ITEMS) return;

    const a = pickAsset();
    const el = document.createElement('img');

    el.src = a.src;
    el.className = 'laloo-item ' + a.type;
    el.alt = '';
    el.decoding = 'async';

    const size =
      Math.random() * (a.size[1] - a.size[0]) + a.size[0];
    const duration =
      Math.random() * (a.duration[1] - a.duration[0]) + a.duration[0];

    el.style.width = size + 'px';
    el.style.left = Math.random() * 100 + 'vw';
    el.style.animationDuration = duration + 's';

    container.appendChild(el);

    setTimeout(() => el.remove(), 15000);
  }

  setInterval(spawn, SPAWN_EVERY);

})();
</script>

</body>
</html>
